package com.laurencegarmstrong.kwamp.core

import io.kotlintest.specs.StringSpec

internal class ConnectionTest : StringSpec({
    "Can send hello" {
        //        val incoming = Channel<String>()
//        val outgoing = Channel<String>()
//
//        val connection = Connection(incoming, outgoing, {_ -> null})
//        launch {
//            connection.send(Hello("default", ""))
//            println("Message sent!")
//        }
//
//        runBlocking {
////            val test: Deferred<Message> = async {
//                connection.onNextMessage {
//                    it shouldBe beOfType<Hello>()
//                    it.messageType shouldBe MessageType.HELLO
//                }
////            }
//            println("Verified!")
//        }
//        println("hello")
    }
})